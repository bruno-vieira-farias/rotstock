<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layoutDecorator/mainDecorator">
<head>
    <meta charset="utf-8" />

    <style>
        .bordas{
            border : 2px solid grey;
            background-color: #DCDCDC;
            border-radius: 10px;
            padding: 20px 20px 20px 20px;
            margin-bottom: 20px;
        }
        .botaoAlihamento{
            padding-top: 25px;
            padding-left: 10px;
        }
        .botaoBuscaModal{
            padding-top: 15px;
        }

    </style>

    <script type="text/javascript">
        $(function () {
            preparaModel();
        });

        function preparaModel() {
            $("#busca-modal").modal();
        };
    </script>

    <script th:inline="javascript">
        var idPagina="entrada";
    </script>

</head>
<body>
<section id="content" class="container" layout:fragment="content">
    <div class="container">
        <div class="row" >
            <div class="col-md-12  form-group" >
                <h2 class="text-center"><span> Entrada de Equipamentos</span></h2>
                <hr class="soften"/>
            </div>
        </div>
        <input type="hidden" id="id-equipamento" />

        <div id="busca-modal" class="modal container fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Busca de Equipamento</h4>
                    </div>
                    <div class="modal-body">

                        <form method="get" th:action="@{/BuscaSerial}" th:object="${equipamentoForm}" name="cadastra-form">

                        <div class="row">
                            <div class="col-md-10">
                                <label for="seria">Serial:</label>
                                <input type="text" class="form-control" id="seria" autofocus="autofocus"  th:field="*{serial}" />
                            </div>
                            <div class="col-md-2 botaoBuscaModal">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                                </button>
                            </div>
                        </div>
                        <div class="row" >
                            <div class="col-md-12  form-group" >
                                <table class="table table-striped">
                                    <tr>
                                        <th>Serial</th>
                                        <th>Equipamento</th>
                                        <th>Fabricante</th>
                                        <th>Modelo</th>
                                    </tr>
                                    <tr th:each="equipamentoForm : ${equipamentosForm}">
                                        <td th:text="${equipamentoForm.serial}" ></td>
                                        <td th:text="${equipamentoForm.tipoEquipamento.descricao}"></td>
                                        <td th:text="${equipamentoForm.fabricante}"></td>
                                        <td th:text="${equipamentoForm.modelo}"></td>
                                    </tr>
                                </table>
                            </div>
                        </div>


                        </form>


                    </div>
                    <div class="modal-footer">
                        <button id="sim-modal" type="submit" class="btn btn-default" name="btn-id-equipamento" formmethod="post">Selecionar</button>
                    </div>
                </div>
            </div>
        </div>

        <form class="form-horizontal" method="get" >
            <div class="sub-container bordas">
                <div class="row">
                    <div class="col-md-4">
                        <label for="serial">Serial:</label>
                        <input type="text" class="form-control" id="serial" disabled="disabled"/>
                    </div>
                    <div class="col-md-5">
                        <label for="tipo-equipamento">Tipo de Equipamento:</label>
                        <input type="text" class="form-control" id="tipo-equipamento" disabled="disabled" />
                    </div>
                    <div class="col-md-3 botaoAlihamento">
                        <button type="button" data-toggle="modal" class="form-control btn btn-primary" onclick="preparaModel()">Buscar Equipamento</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <label for="fabricante">Fabricante:</label>
                        <input type="text" class="form-control" id="fabricante" disabled="disabled" />
                    </div>
                    <div class="col-md-4">
                        <label for="modelo">Modelo:</label>
                        <input type="text" class="form-control" id="modelo" disabled="disabled" />
                    </div>
                    <div class="col-md-4">
                        <label for="local">Local:</label>
                        <input type="text" class="form-control" id="local" disabled="disabled" />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label for="status">Status</label>
                    <select class="form-control"  id="status">
                        <option selected="selected" value=""> ---Selecione uma opção---</option>
                        <option th:each="status : ${statusItemRotativo}"
                                th:value="${status}"
                                th:text="${status.descricao}">Proprietario
                        </option>
                    </select>
                </div>
                <div class="col-md-8">
                    <label for="finalidade">Finalidade</label>
                    <select class="form-control"  id="finalidade">
                        <option selected="selected" value=""> ---Selecione uma opção---</option>
                        <option th:each="finalidade : ${finalidades}"
                                th:value="${finalidade}"
                                th:text="${finalidade.descricao}">Proprietario
                        </option>
                    </select>
                </div>
            </div>

            <label for="defeito">Defeito</label>
            <textarea id="defeito" class="form-control" name="textarea" rows="5" cols="50"></textarea>

            <div class="row" >
                <div class="col-md-12  form-group" >
                    <hr class="soften"/>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 col-md-offset-10">
                    <div class="form-group">
                        <button id="btn-acao" type="submit" class="btn btn-primary btn-lg">Dar Entrada</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>

</body>
</html>